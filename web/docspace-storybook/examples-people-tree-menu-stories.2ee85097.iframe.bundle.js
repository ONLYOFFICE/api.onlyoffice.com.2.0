"use strict";(self.webpackChunk_docspace_components=self.webpackChunk_docspace_components||[]).push([[3655],{"./examples/people.tree-menu.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>people_tree_menu_stories,peopleTreeMenu:()=>peopleTreeMenu});var _path,react=__webpack_require__("../../node_modules/react/index.js"),tree_menu=__webpack_require__("./tree-menu/index.js"),tree_node=__webpack_require__("./tree-menu/sub-components/tree-node.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const catalog_departments_react=function SvgCatalogdepartmentsreact(props){return react.createElement("svg",_extends({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},props),_path||(_path=react.createElement("path",{d:"M15.855.198A.852.852 0 0015.292 0h-5.7l-1.5 1.5-1.5-1.5h-5.7a.851.851 0 00-.563.198.594.594 0 00-.237.469v8c0 .597.14 1.189.418 1.776.28.586.625 1.107 1.038 1.562.413.455.904.898 1.475 1.328.57.431 1.098.788 1.581 1.073.483.285.988.554 1.513.807a23.3 23.3 0 001.118.516c.221.09.398.16.532.208.1.042.208.063.325.063a.837.837 0 00.325-.063c.133-.048.31-.117.53-.208.222-.09.595-.262 1.12-.516.524-.253 1.029-.522 1.512-.807.483-.285 1.01-.642 1.582-1.073.57-.43 1.062-.873 1.474-1.328a6.417 6.417 0 001.038-1.562c.28-.587.419-1.18.419-1.777v-8c0-.18-.08-.336-.237-.468zm-2.163 8.468c0 1.223-.98 2.473-2.938 3.75-.783.514-1.67.99-2.662 1.428V4l2-2h3.6v6.666z",fill:"#657077"})))};var catalog_folder_react=__webpack_require__("../../public/images/catalog.folder.react.svg"),expander_down_react=__webpack_require__("../../public/images/expander-down.react.svg"),expander_right_react=__webpack_require__("../../public/images/expander-right.react.svg"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const people_tree_menu_stories={title:"Examples/Tree",component:tree_menu.Z,subcomponents:{TreeNode:tree_node.Z},parameters:{docs:{description:{component:"Example"}}},argTypes:{data:{table:{disable:!0}},disableSwitch:{description:"Disables Switch"}}},Template=args=>{const{data}=args,[gData,setGData]=(0,react.useState)(data),[autoExpandParent,setAutoExpandParent]=(0,react.useState)(!0),[expandedKeys,setExpandedKeys]=(0,react.useState)(["0-0-key","0-0-0-key","0-0-0-0-key"]),loop=data=>data.map((item=>item.children&&item.children.length?(0,jsx_runtime.jsx)(tree_node.Z,{title:item.title,icon:item.root?(0,jsx_runtime.jsx)(catalog_departments_react,{size:"scale",color:"dimgray"}):"",children:loop(item.children)},item.key):(0,jsx_runtime.jsx)(tree_node.Z,{title:item.title,icon:item.root?"":(0,jsx_runtime.jsx)(catalog_folder_react.Z,{size:"scale",color:"dimgray"})},item.key)));return(0,jsx_runtime.jsx)("div",{style:{width:"250px",margin:"20px"},children:(0,jsx_runtime.jsx)(tree_menu.Z,{checkable:!1,draggable:!1,disabled:!1,multiple:!1,showIcon:!0,defaultExpandAll:!1,defaultExpandParent:!0,onExpand:expandedKeys=>{setExpandedKeys(expandedKeys),setAutoExpandParent(!1)},autoExpandParent,expandedKeys,defaultExpandedKeys:["0-0"],defaultSelectedKeys:["0-0-2"],onDragStart:info=>(info=>{info.event.persist()})(info),onDrop:info=>(info=>{info.event.persist();const dropKey=info.node.props.eventKey,dragKey=info.dragNode.props.eventKey,dropPos=info.node.props.pos.split("-"),dropPosition=info.dropPosition-Number(dropPos[dropPos.length-1]),loop=(data,key,callback)=>{data.forEach(((item,index,arr)=>{item.key!==key?item.children&&loop(item.children,key,callback):callback(item,index,arr)}))},data=[...gData];let dragObj;if(loop(data,dragKey,((item,index,arr)=>{arr.splice(index,1),dragObj=item})),info.dropToGap)if((info.node.props.children||[]).length>0&&info.node.props.expanded&&1===dropPosition)loop(data,dropKey,(item=>{item.children=item.children||[],item.children.unshift(dragObj)}));else{let ar,i;loop(data,dropKey,((item,index,arr)=>{ar=arr,i=index})),-1===dropPosition?ar.splice(i,0,dragObj):ar.splice(i+1,0,dragObj)}else loop(data,dropKey,(item=>{item.children=item.children||[],item.children.push(dragObj)}));setGData(data)})(info),onDragEnter:info=>{setExpandedKeys(info.expandedKeys)},switcherIcon:obj=>obj.isLeaf?null:obj.expanded?(0,jsx_runtime.jsx)(expander_down_react.Z,{width:"8px",color:"dimgray"}):(0,jsx_runtime.jsx)(expander_right_react.Z,{width:"8px",color:"dimgray"}),children:loop(gData)})})};Template.displayName="Template";const peopleTreeMenu=Template.bind({});peopleTreeMenu.args={data:[{key:"0-0",title:"Departments",root:!0,children:[{key:"0-0-0",title:"Development",root:!1},{key:"0-0-1",title:"Direction",root:!1},{key:"0-0-2",title:"Marketing",root:!1},{key:"0-0-3",title:"Mobile",root:!1},{key:"0-0-4",title:"Support",root:!1},{key:"0-0-5",title:"Web",root:!1}]}]},peopleTreeMenu.parameters={...peopleTreeMenu.parameters,docs:{...peopleTreeMenu.parameters?.docs,source:{originalSource:'args => {\n  // eslint-disable-next-line react/prop-types\n  const {\n    data\n  } = args;\n  const [gData, setGData] = useState(data);\n  const [autoExpandParent, setAutoExpandParent] = useState(true);\n  const [expandedKeys, setExpandedKeys] = useState(["0-0-key", "0-0-0-key", "0-0-0-0-key"]);\n  const onDragStart = info => {\n    info.event.persist();\n  };\n  const onDragEnter = info => {\n    setExpandedKeys(info.expandedKeys);\n  };\n  const onDrop = info => {\n    info.event.persist();\n    const dropKey = info.node.props.eventKey;\n    const dragKey = info.dragNode.props.eventKey;\n    const dropPos = info.node.props.pos.split("-");\n    const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n    const loop = (data, key, callback) => {\n      // eslint-disable-next-line react/prop-types\n      data.forEach((item, index, arr) => {\n        if (item.key === key) {\n          callback(item, index, arr);\n          return;\n        }\n        if (item.children) {\n          loop(item.children, key, callback);\n        }\n      });\n    };\n    const data = [...gData];\n    let dragObj;\n    loop(data, dragKey, (item, index, arr) => {\n      arr.splice(index, 1);\n      dragObj = item;\n    });\n    if (!info.dropToGap) {\n      loop(data, dropKey, item => {\n        item.children = item.children || [];\n        item.children.push(dragObj);\n      });\n    } else if ((info.node.props.children || []).length > 0 && info.node.props.expanded && dropPosition === 1) {\n      loop(data, dropKey, item => {\n        item.children = item.children || [];\n        item.children.unshift(dragObj);\n      });\n    } else {\n      let ar;\n      let i;\n      loop(data, dropKey, (item, index, arr) => {\n        ar = arr;\n        i = index;\n      });\n      if (dropPosition === -1) {\n        ar.splice(i, 0, dragObj);\n      } else {\n        ar.splice(i + 1, 0, dragObj);\n      }\n    }\n    setGData(data);\n  };\n  const onExpand = expandedKeys => {\n    setExpandedKeys(expandedKeys);\n    setAutoExpandParent(false);\n  };\n  const loop = data => {\n    // eslint-disable-next-line react/prop-types\n    return data.map(item => {\n      if (item.children && item.children.length) {\n        return <TreeNode title={item.title} key={item.key} icon={item.root ? <CatalogDepartmentsReactSvg size="scale" color="dimgray" /> : ""}>\r\n            {loop(item.children)}\r\n          </TreeNode>;\n      }\n      return <TreeNode key={item.key} title={item.title} icon={!item.root ? <CatalogFolderReactSvg size="scale" color="dimgray" /> : ""}></TreeNode>;\n    });\n  };\n  const switcherIcon = obj => {\n    if (obj.isLeaf) {\n      return null;\n    }\n    if (obj.expanded) {\n      return <ExpanderDownReactSvg width="8px" color="dimgray" />;\n    } else {\n      return <ExpanderRightReactSvg width="8px" color="dimgray" />;\n    }\n  };\n  return <div style={{\n    width: "250px",\n    margin: "20px"\n  }}>\r\n      <TreeMenu checkable={false} draggable={false} disabled={false} multiple={false} showIcon={true} defaultExpandAll={false} defaultExpandParent={true} onExpand={onExpand} autoExpandParent={autoExpandParent} expandedKeys={expandedKeys} defaultExpandedKeys={["0-0"]} defaultSelectedKeys={["0-0-2"]} onDragStart={info => onDragStart(info)} onDrop={info => onDrop(info)} onDragEnter={onDragEnter} switcherIcon={switcherIcon}>\r\n        {loop(gData)}\r\n      </TreeMenu>\r\n    </div>;\n}',...peopleTreeMenu.parameters?.docs?.source}}};const __namedExportsOrder=["peopleTreeMenu"]},"../../public/images/expander-right.react.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgExpanderRightreact(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"#000",d:"M6.872 23.013L6.871 1.782l11.235 10.633L6.872 23.013z",strokeLinecap:"null",strokeLinejoin:"null",strokeDasharray:"null",strokeWidth:.1})))}}}]);